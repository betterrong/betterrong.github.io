(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{356:function(s,t,a){"use strict";a.r(t);var n=a(42),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux-的文件权限与目录配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-的文件权限与目录配置"}},[s._v("#")]),s._v(" Linux 的文件权限与目录配置")]),s._v(" "),a("p",[s._v("作者：溶 时间：2020年07月29日")]),s._v(" "),a("h2",{attrs:{id:"_0x01-用户与用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0x01-用户与用户组"}},[s._v("#")]),s._v(" 0x01. 用户与用户组")]),s._v(" "),a("h3",{attrs:{id:"_1-1-用户身份与群组记录的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-用户身份与群组记录的文件"}},[s._v("#")]),s._v(" 1.1 用户身份与群组记录的文件")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("每个账号可以有多个用户组的支持。")])]),s._v(" "),a("li",[a("p",[s._v("Linux里面，任何一个文件都具有 Usr、Group、Others 三种身份的个别权限。")])]),s._v(" "),a("li",[a("p",[s._v("在 linux 系统当中，默认情况下，相关信息是存储在下面的目录下的")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("/etc/passwd")]),s._v("：账户信息")]),s._v(" "),a("li",[a("code",[s._v("/etc/shadow")]),s._v("：账户密码")]),s._v(" "),a("li",[a("code",[s._v("/etc/group")]),s._v("：所有组名")])]),s._v(" "),a("p",[s._v("这三个目录可以说是 Linux 系统里面账户、密码、群组信息的集中地，不要随便删除。")])])]),s._v(" "),a("h2",{attrs:{id:"_0x02-linux-文件权限概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0x02-linux-文件权限概念"}},[s._v("#")]),s._v(" 0x02 Linux 文件权限概念")]),s._v(" "),a("h3",{attrs:{id:"_2-1-linux-文件属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-linux-文件属性"}},[s._v("#")]),s._v(" 2.1 Linux 文件属性")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#切换root用户")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\ndr-xr-x---.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("280")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" 09:23      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndr-xr-xr-x. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("224")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":59      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1797")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":01      anaconda-ks.cfg\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("235")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":42      .bash_history\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("      .bash_logout\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("      .bash_profile\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("      .bashrc\ndrwx------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("    root    root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":31      .cache\ndrwxr-xr-x.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("    root    root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":31      .config\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("      .cshrc\ndrwx------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    root    root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":03      .dbus\ndrwx------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("    root    root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":17      .gvfs\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1828")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":04      initial-setup-ks.cfg\ndrwxr-xr-x.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    root    root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":17      .local\ndrwxr-----.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    root    root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":45      .pki\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("129")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("      .tcshrc\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("790")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":37      .viminfo\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    root    root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("136")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" 09:23      .xauthMuii6s\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  权限    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("链接"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("拥有者"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("用户组"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("文件容量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  修改日期  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("       文件名       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" //退出root\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("su -")]),s._v(" 切换 "),a("code",[s._v("root")]),s._v(" 身份")]),s._v(" "),a("li",[a("code",[s._v("exit")]),s._v(" 登出")]),s._v(" "),a("li",[a("code",[s._v("ls -al")]),s._v(" list\n"),a("ul",[a("li",[a("code",[s._v("a")]),s._v(": 当前目录下的所有文件，包括隐藏文件（文件名第一个字符为 "),a("code",[s._v(".")]),s._v(" 的文件）")]),s._v(" "),a("li",[a("code",[s._v("l")]),s._v(": 显示详细信息，包括大小、组、创建时间")])])])]),s._v(" "),a("h4",{attrs:{id:"_2-1-1-文件类型和权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-文件类型和权限"}},[s._v("#")]),s._v(" 2.1.1 文件类型和权限")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s1.ax1x.com/2020/07/29/aVzf6e.png",alt:"aVzf6e.png"}})]),s._v(" "),a("ul",[a("li",[s._v("第一个字符\n"),a("ul",[a("li",[a("code",[s._v("d")]),s._v("：表示目录文件")]),s._v(" "),a("li",[a("code",[s._v("-")]),s._v("：普通文件")]),s._v(" "),a("li",[a("code",[s._v("l")]),s._v("：连接文档（link file）")]),s._v(" "),a("li",[a("code",[s._v("b")]),s._v("：装置文件里面的可供存储的接口设备（可随机存取装置）")]),s._v(" "),a("li",[a("code",[s._v("c")]),s._v("：装置文件里面的串行端口设备、例如键盘、鼠标（一次性读取装置）")]),s._v(" "),a("li",[a("code",[s._v("s")]),s._v(":  套接字文件")])])]),s._v(" "),a("li",[s._v("第一组：文件拥有者的权限\n"),a("ul",[a("li",[a("code",[s._v("r")]),s._v(" read")]),s._v(" "),a("li",[a("code",[s._v("w")]),s._v(" write")]),s._v(" "),a("li",[a("code",[s._v("x")]),s._v(" execute")]),s._v(" "),a("li",[a("code",[s._v("-")]),s._v(" 无权限")])])]),s._v(" "),a("li",[s._v("第二组：加入此用户组的账号的权限")]),s._v(" "),a("li",[s._v("第三组：others")])]),s._v(" "),a("h4",{attrs:{id:"_2-1-2-链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-链接"}},[s._v("#")]),s._v(" 2.1.2 链接")]),s._v(" "),a("p",[s._v("第二栏表示有多少文件名链接到此节点（inode）")]),s._v(" "),a("p",[s._v("每个文件都会将他的权限与属性记录到文件系统的"),a("code",[s._v("inode")]),s._v("中，不过我们使用的目录树是使用文件名来记录， 因此每个文档名就会连接到一个 "),a("code",[s._v("inode")]),s._v("。这个属性记录就是有多少不同的文件名链接到相同的一个  inode 号码。")]),s._v(" "),a("h4",{attrs:{id:"_2-1-3-拥有者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-拥有者"}},[s._v("#")]),s._v(" 2.1.3 拥有者")]),s._v(" "),a("p",[s._v("文件或目录属于谁")]),s._v(" "),a("h4",{attrs:{id:"_2-1-4-所属用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-所属用户组"}},[s._v("#")]),s._v(" 2.1.4 所属用户组")]),s._v(" "),a("p",[s._v("文件和目录属于哪个组")]),s._v(" "),a("h4",{attrs:{id:"_2-1-5-文件容量大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-文件容量大小"}},[s._v("#")]),s._v(" 2.1.5 文件容量大小")]),s._v(" "),a("p",[s._v("单位默认为Bytes")]),s._v(" "),a("h4",{attrs:{id:"_2-1-6-文件的创建日期或是最近的修改日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-6-文件的创建日期或是最近的修改日期"}},[s._v("#")]),s._v(" 2.1.6 文件的创建日期或是最近的修改日期")]),s._v(" "),a("p",[s._v("如果文件被修改的时间距离现在太久，时间部分仅会显示年份。")]),s._v(" "),a("p",[s._v("若想显示完整的日期时间格式，"),a("code",[s._v("ls -l --full-time")])]),s._v(" "),a("h4",{attrs:{id:"_2-1-7-文件名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-7-文件名"}},[s._v("#")]),s._v(" 2.1.7 文件名")]),s._v(" "),a("p",[s._v("文件名前多一个 "),a("code",[s._v(".")]),s._v(" 则文件是隐藏文件。")]),s._v(" "),a("h4",{attrs:{id:"_2-1-8-权限识别练习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-8-权限识别练习"}},[s._v("#")]),s._v(" 2.1.8 权限识别练习")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" .bash_logout\ndrwxr-xr--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root testgroup   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" groups/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("第一个文件：只有 root 可读写，但是没有执行权限")]),s._v(" "),a("li",[s._v("第二个目录：\n"),a("ul",[a("li",[s._v("root：可读可写")]),s._v(" "),a("li",[s._v("testgroup：可读，不能写，"),a("strong",[s._v("可执行，因此可以能够进入该目录")])]),s._v(" "),a("li",[s._v("others：只有 r，可读，但是没有 x，所以都不能进入此目录")])])])]),s._v(" "),a("h4",{attrs:{id:"_2-1-9-linux-文件权限的重要性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-9-linux-文件权限的重要性"}},[s._v("#")]),s._v(" 2.1.9 Linux 文件权限的重要性")]),s._v(" "),a("ul",[a("li",[s._v("系统保护的功能")]),s._v(" "),a("li",[s._v("团队开发软件或数据共享的功能")]),s._v(" "),a("li",[s._v("未将权限设置妥当的危害")])]),s._v(" "),a("h3",{attrs:{id:"_2-2-如何修改文件属性与权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-如何修改文件属性与权限"}},[s._v("#")]),s._v(" 2.2 如何修改文件属性与权限")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("chgrp")]),s._v(" "),a("strong",[s._v("修改文件所属用户组")])]),s._v(" "),a("li",[a("code",[s._v("chown")]),s._v(" "),a("strong",[s._v("修改文件拥有者")])]),s._v(" "),a("li",[a("code",[s._v("chmod")]),s._v(" "),a("strong",[s._v("修改文件权限")]),s._v("， "),a("code",[s._v("SUID")]),s._v("、"),a("code",[s._v("SGID")]),s._v("、"),a("code",[s._v("SBIT")]),s._v(" 等的特性。")])]),s._v(" "),a("h4",{attrs:{id:"_2-2-1-修改所属用户组-chgrp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-修改所属用户组-chgrp"}},[s._v("#")]),s._v(" 2.2.1 修改所属用户组 chgrp")]),s._v(" "),a("p",[s._v("要记住，要被修改的"),a("strong",[s._v("组名必须在 "),a("code",[s._v("/etc/group")]),s._v(" 文件中存在")]),s._v("才行。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("chagrp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" dirname/filename \n选项：\n-R：递归变更，如果是目录，则变更该目录以及目录下的所有文件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rong @ study in ~ [11:15:23] ")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l initial.c        \n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong rong  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":15 initial.c\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" root initial.c\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l initial.c\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong root  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":15 initial.c\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"_2-2-2-修改文件拥有者-chown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-修改文件拥有者-chown"}},[s._v("#")]),s._v(" 2.2.2 修改文件拥有者 chown")]),s._v(" "),a("p",[a("strong",[s._v("必须是在 "),a("code",[s._v("/etc/passwd")]),s._v(" 里记录的用户名。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 账户名称 文件或目录\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 账户名称:组名 文件或目录\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" rong:rong initial.c\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l initial.c\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong rong "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":15 initial.c\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("复制文件命令 "),a("code",[s._v("cp")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" 源文件 目标文件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp initial.c initial_test.c")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l initial*")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong rong "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":15 initial.c\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":47 initial_test.c\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("复制操作会复制执行者的属性与权限。")]),s._v(" "),a("h4",{attrs:{id:"_2-2-3-修改权限-chmod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-修改权限-chmod"}},[s._v("#")]),s._v(" 2.2.3 修改权限 chmod")]),s._v(" "),a("p",[a("strong",[s._v("方法一 数字类型修改文件权限")])]),s._v(" "),a("p",[s._v("Linux文件的基本权限有9个：")]),s._v(" "),a("p",[s._v("owner、group、others 和他们的 rwx")]),s._v(" "),a("p",[s._v("各权限的数字对照表如下：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("r")]),s._v(" = 4")]),s._v(" "),a("li",[a("code",[s._v("w")]),s._v(" = 2")]),s._v(" "),a("li",[a("code",[s._v("x")]),s._v(" = 1")])]),s._v(" "),a("p",[s._v("每种身份 owner、group、others 各自的三个权限 r、w、x 分数是需要累加的， 例如权限是 "),a("code",[s._v("-rwxrwx---")]),s._v(" ，那么分数为：")]),s._v(" "),a("ul",[a("li",[s._v("owner：rwx = 4 + 2 + 1 = 7")]),s._v(" "),a("li",[s._v("group：rwx = 4 + 2 + 1 = 7")]),s._v(" "),a("li",[s._v("ohters：--- = 0 + 0 + 0= 0")])]),s._v(" "),a("p",[s._v("语法为：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" xyz 文件或目录\nxyz：就是刚刚的数值类型的权限范围，为 rwz 属性数值的相加\n-R：递归修改\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l initial.c          \n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong rong "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":15 initial.c\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("770")]),s._v(" initial.c      \n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l initial.c    \n-rwxrwx---. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong rong "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":15 initial.c\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("常用权限数值：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-rw-rw-r--")]),s._v(" 664 ：一般文件，可读可写无执行")]),s._v(" "),a("li",[a("code",[s._v("-rwxr-x-r-x")]),s._v(" 755：shell 脚本文件，拥有者可读写执行，其他的都只能可读可执行，不可编辑")]),s._v(" "),a("li",[a("code",[s._v("-rwxr------")]),s._v(" 740：不希望该文件被其他人看到（能看到文件，但是不能读取里面的内容）")])]),s._v(" "),a("p",[a("strong",[s._v("方法二  符号类型修改文件权限")])]),s._v(" "),a("p",[s._v("每个组的首字母就代表了这个符号类型，其中 a 表示所有")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u/g/o/a +/-/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r/w/x 文件或目录\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把一个文件更改为 -rwxr-xr-x")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al initial-setup-ks-mrcode.cfg\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("u")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rwx,go"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rx initial-setup-ks-mrcode.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("那么还有一个需求，不知道原来的权限，但是需要让某个文件具有每个人都有写入的权限")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al initial-setup-ks-mrcode.cfg\n-rwxr-xr-x. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rong rong "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2206")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30 initial-setup-ks-mrcode.cfg\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始没有写入权限，使用 + 来增加写入权限")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o+w initial-setup-ks-mrcode.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2-3-目录与文件的权限意义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-目录与文件的权限意义"}},[s._v("#")]),s._v(" 2.3 目录与文件的权限意义")]),s._v(" "),a("h4",{attrs:{id:"_2-3-1-权限对文件的重要性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-权限对文件的重要性"}},[s._v("#")]),s._v(" 2.3.1 权限对文件的重要性")]),s._v(" "),a("p",[s._v("文件是实际含有数据的地方，包括一般文件、数据库文件、二进制可执行文件（binary program）等， 因此，权限对于文件来说，意义是：")]),s._v(" "),a("ul",[a("li",[s._v("r（read）：可读取此文件的实际内容")]),s._v(" "),a("li",[s._v("w（write）：可以修改文件内容，但是不能删除")]),s._v(" "),a("li",[s._v("x（execute）：该文件具有可以被系统执行的权限")])]),s._v(" "),a("p",[s._v("Linux下的文件是否能执行，则是借由是否具有 "),a("code",[s._v("x")]),s._v(" 这个权限来决定，和文件名没有绝对的关系。")]),s._v(" "),a("h4",{attrs:{id:"_2-3-2-权限对目录的重要性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-权限对目录的重要性"}},[s._v("#")]),s._v(" 2.3.2 权限对目录的重要性")]),s._v(" "),a("p",[s._v("目录主要的内容在记录文件名列表，文件名有目录有强烈的关联，"),a("code",[s._v("rwx")]),s._v("对目录的意义如下")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("r")]),s._v("具有读取目录结构列表的权限，使用 ls 这指令就可以将该目录的内容列表显示出来。")]),s._v(" "),a("li",[a("code",[s._v("w")]),s._v("  表示你具有改动该目录结构列表的权限。\n"),a("ul",[a("li",[s._v("建立新的文件与目录")]),s._v(" "),a("li",[s._v("删除已存在的文件与目录")]),s._v(" "),a("li",[s._v("将已存在的文件或目录进行更名。")]),s._v(" "),a("li",[s._v("移动该目录内的文件、目录位置。")])])]),s._v(" "),a("li",[a("code",[s._v("x")]),s._v(" 表示用户是否能进入该目录成为工作目录。即进入该工作目录的权限。")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("组件")]),s._v(" "),a("th",[s._v("内容")]),s._v(" "),a("th",[s._v("替代对象")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("r")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("w")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("x")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("文件")]),s._v(" "),a("td",[s._v("详细资料 data")]),s._v(" "),a("td",[s._v("文件夹")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("读到文件内容")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("修改文件内容")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("执行文件内容")])]),s._v(" "),a("tr",[a("td",[s._v("目录")]),s._v(" "),a("td",[s._v("文档名")]),s._v(" "),a("td",[s._v("可分类抽屉")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("读到文件名")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("修改文件名或目录")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("进入该目录的权限")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ab 文件夹属于 root ，rong 这个账户不属于 root 组")]),s._v("\ndrwxrwxr--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root   root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":57 ab\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所以当要查看文件列表的时候，能看到有 txt，但是其他的属性都是问号，能访问文件列表")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l abc/\nls: cannot access abc/txt: Permission denied\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-????????? ? ? ? ?            ? txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 root 身份看下，能看到 txt 文件具有 r 读权限")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l abc/\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-rw-rw-r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":57 txt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所以我们来读一下这个文件，发现提示没有权限，")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" abc/txt\ncat: abc/txt: Permission denied\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("目录就是大门，大门都进不去，里面的东西就算可以读取，也读不了。")]),s._v(" "),a("p",[s._v("在开放权限的时候，一般需要开放 r 与 x 权限，让人能进入到这个目录，否则就只能看到目录下面的文件名而已， 但是对于 w 写的权限需要慎重。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n/home/rong\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ab.txt在 /home/rong 目录下，但是该文件属于 root ，但看文件 rong 肯定无法读写执行了")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("在上面的环境中， mrcode 能否删除 ab.txt 呢？ 是可以的，因为 abc.txt 在 rong 的家 "),a("code",[s._v("/home/mrcode")]),s._v(" ，而这个目录树属于"),a("code",[s._v("rong")]),s._v(" 的， 按照上面讲过的，该目录 "),a("code",[s._v("rong")]),s._v(" 具有"),a("code",[s._v("rwx")]),s._v(" 权限，虽然不能对该文件读写，但是可以 "),a("strong",[s._v("删除")]),s._v(" 掉！")]),s._v(" "),a("p",[s._v("有一个例子很好的解释了这个现象：假设有一个莫名其妙的人拿了一个保险箱放到你家里，你打不开，但是可以扔掉。")]),s._v(" "),a("p",[s._v("一个测试")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /tmp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir testing")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod 744 testing")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# touch testing/testing.temp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod 600 testing/testing.temp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -ald")]),s._v("\n\n\n-----切换到普通用户------\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l testing/\nls: 无法访问testing/testing.temp: 权限不够\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-????????? ? ? ? ?            ? testing.temp\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" testing\ncd: 权限不够: testing\n---------root用户------------------------\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown rong /tmp/testing")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -ld /tmp/tsting")]),s._v("\ndrwxr--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" rong root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":03 /tmp/testing\n\n-----切换到普通用户------\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -ld /tmp/testing\ndrwxr--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" rong root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":52 /tmp/testing/\n拥有全部权限\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /tmp/testing\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" testing.temp\nrm：是否删除有写保护的普通空文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"testing.temp"')]),s._v("？y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h4",{attrs:{id:"_2-3-3-用户操作功能与权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-用户操作功能与权限"}},[s._v("#")]),s._v(" 2.3.3 用户操作功能与权限")]),s._v(" "),a("p",[s._v("这里讲个特殊的案例，分别有以下两个文档：")]),s._v(" "),a("ul",[a("li",[s._v("/dir1/file1")]),s._v(" "),a("li",[s._v("/dir2")])]),s._v(" "),a("p",[s._v("现在我使用 mrcode 这个账户，那么这个账户针对 /dir1、/dir1/file1、/dir2 分别需要哪些 "),a("strong",[s._v("最小的权限")]),s._v("， 才能达成各项任务？")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("操作动作")]),s._v(" "),a("th",[s._v("/dir1")]),s._v(" "),a("th",[s._v("/dir1/file1")]),s._v(" "),a("th",[s._v("/dir2")]),s._v(" "),a("th",[s._v("重点")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("读取 file1 内容")]),s._v(" "),a("td",[s._v("x")]),s._v(" "),a("td",[s._v("r")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("要能够进入 /dir1 才能读到里面的文件数据")])]),s._v(" "),a("tr",[a("td",[s._v("修改 file1 内容")]),s._v(" "),a("td",[s._v("x")]),s._v(" "),a("td",[s._v("rw")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("先要进入 /dir1 ，且修改 file1")])]),s._v(" "),a("tr",[a("td",[s._v("执行 file1 内容")]),s._v(" "),a("td",[s._v("x")]),s._v(" "),a("td",[s._v("rx")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("先进入 /dir1，且运行")])]),s._v(" "),a("tr",[a("td",[s._v("删除 file1 文件")]),s._v(" "),a("td",[s._v("x")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("先进入 /dir1 就可以删除了")])]),s._v(" "),a("tr",[a("td",[s._v("将 file 1 复制到 dir2")]),s._v(" "),a("td",[s._v("x")]),s._v(" "),a("td",[s._v("r")]),s._v(" "),a("td",[s._v("wx")]),s._v(" "),a("td",[s._v("先进入 /dir1，可以读取 file1 ，且能够修改 /dir2 的数据")])])])]),s._v(" "),a("p",[s._v("要读一个文件，需要具有文件所在目录的 "),a("code",[s._v("x")]),s._v(" 权限才行。")]),s._v(" "),a("h3",{attrs:{id:"_2-3-linux-文件种类与扩展名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-linux-文件种类与扩展名"}},[s._v("#")]),s._v(" 2.3 Linux 文件种类与扩展名")]),s._v(" "),a("h4",{attrs:{id:"_2-3-1-文件种类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-文件种类"}},[s._v("#")]),s._v(" 2.3.1 文件种类")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("常规文件")]),s._v("，第一个属性为 "),a("code",[s._v("-")]),s._v(" 的文件，另外依照文件的内容又大致分为：")]),s._v(" "),a("ul",[a("li",[s._v("纯文本文件(ASCII)")]),s._v(" "),a("li",[s._v("二进制文件 (binary)")]),s._v(" "),a("li",[s._v("数据文件 (data)")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("目录文件（directory）")]),s._v("（directory）：第一个属性为"),a("code",[s._v("d")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("链接文件（link）")]),s._v("，类似windows的快捷方式，第一个是属性是 "),a("code",[s._v("l")]),s._v("（L 的小写)")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("设备与设备文件（device)")])]),s._v(" "),a("p",[s._v("与系统周边及存储等相关文件，通常都集中在 "),a("code",[s._v("/dev")]),s._v("这个目录下，通常又分为两种：")]),s._v(" "),a("ul",[a("li",[s._v("区块设备文件（block），用 "),a("code",[s._v("b")]),s._v(" 表示，就是一些存储数据，供系统随机存取的接口设备，比如硬盘、软盘等。 可以随机在硬盘的不同区块读写。可以看看 /dev/sda 会发现第一个属性就是 b。")]),s._v(" "),a("li",[s._v("字符设备文件（character），用 "),a("code",[s._v("c")]),s._v(" 表示，一些串行端口的接口设备，例如键盘鼠标等。这些设备的特性就是"),a("strong",[s._v("一次性读取的，不能够截断输出")]),s._v("。 举例来说，你不可能让鼠标跳跃到另一个画面，而是连续性滑动到另一个地方。")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("数据接口文件（sockets）")]),s._v("：用"),a("code",[s._v("s")]),s._v("表示")]),s._v(" "),a("p",[s._v("这种类型的文件通常被用在网络上的数据承接。启动程序监听客户端的请求，客户端透过这个 socket 来进行数据的沟通 最常在 "),a("code",[s._v("/run")]),s._v("或 "),a("code",[s._v("/tmp")]),s._v("这个目录中")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("数据传送文件（FIFO,pipe）")]),s._v("：使用 "),a("code",[s._v("p")]),s._v(" 表示")]),s._v(" "),a("p",[a("code",[s._v("FIFO")]),s._v(" 也是一种特殊的文件类型，主要目的在解决多个程序同时存取一个文件所造成的并发错误问题， 是"),a("code",[s._v("first-in-first-out")]),s._v("的缩写。")])])]),s._v(" "),a("h4",{attrs:{id:"_2-3-2-linux-文件扩展名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-linux-文件扩展名"}},[s._v("#")]),s._v(" 2.3.2 Linux 文件扩展名")]),s._v(" "),a("p",[a("strong",[s._v("一个 Linux 文件能否被执行与文件名一点关系也没有，依靠权限中的"),a("code",[s._v("x")]),s._v("来决定的。有 "),a("code",[s._v("x")]),s._v(" 权限表示这个文件具有可被执行的能力。")])]),s._v(" "),a("p",[s._v("但是「可执行的权限」与具有「可执行的程序代码」是两回事，比如一个 text.txt 文件权限有 x， 但是这个 txt 文件明显是不具备可执行的程序代码，如果将 cat 这个可以执行的命令，将他的权限中的 x 去掉，那么 cat 就无法执行了。")]),s._v(" "),a("p",[s._v("所以具有可执行的能力，但是具体能不能执行还需要看文件的内容。 所以通常我们会使用扩展名来了解该文件是什么东西，一般如下规定：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v(".sh")]),s._v("：脚本或批处理文件（scripts），因为是使用 shell 写成的，所以扩展名就编程 "),a("code",[s._v(".sh")])]),s._v(" "),a("li",[a("code",[s._v("Z、.tar、.tar.gz、.zip、.tgz")]),s._v("：经过打包的压缩文件。不同的压缩软件压缩的扩展名不同如，gunzip、tar")]),s._v(" "),a("li",[a("code",[s._v(".html、.php")]),s._v("：网页相关文件")])]),s._v(" "),a("p",[s._v("有一种情况需要注意，你从网络上下载一个可执行文件，下载之后变成了不可执行的了，那么有可能就是 可执行权限被改变了")]),s._v(" "),a("h4",{attrs:{id:"_2-3-3-linux-文件名长度限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-linux-文件名长度限制"}},[s._v("#")]),s._v(" 2.3.3 Linux 文件名长度限制")]),s._v(" "),a("p",[s._v("使用传统的 ext2/3/4 文件系统以及进来被 centOS 7 预设文件系统的 xfs，针对文件名长度限制： 单一文件或目录的最大长度为 255 bytes，以一个 ASCII 英文占用一个 bytes 来说，则大约可达 255 个字符长度。 若以每个中文占用 2 bytes 来说，则是 128 个中文字。")]),s._v(" "),a("p",[s._v("由于在终端下执行一些指令操作，一般来说，在设置文件名的时候，最好避免一些特殊文字比较好：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('* ? > < ; & ! [] | \\ \' "" ` () {}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("另外常常会用到 -option 子类的选项，所以最好避免文件名开头使用 - 和 + 号。")])])}),[],!1,null,null,null);t.default=r.exports}}]);