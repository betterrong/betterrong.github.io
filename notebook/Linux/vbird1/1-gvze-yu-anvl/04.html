<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>安装 CentOS7.x | 学习笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/notebook/favicon.ico">
    <meta name="description" content="学习笔记文档整理">
    <link rel="preload" href="/notebook/assets/css/0.styles.0536e7aa.css" as="style"><link rel="preload" href="/notebook/assets/js/app.59682d67.js" as="script"><link rel="preload" href="/notebook/assets/js/2.f2581a98.js" as="script"><link rel="preload" href="/notebook/assets/js/8.29331283.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.b6b35915.js"><link rel="prefetch" href="/notebook/assets/js/11.a516d670.js"><link rel="prefetch" href="/notebook/assets/js/12.1980c287.js"><link rel="prefetch" href="/notebook/assets/js/13.948208ff.js"><link rel="prefetch" href="/notebook/assets/js/14.99776a32.js"><link rel="prefetch" href="/notebook/assets/js/15.b3270dea.js"><link rel="prefetch" href="/notebook/assets/js/3.1447e82e.js"><link rel="prefetch" href="/notebook/assets/js/4.e02e7ef1.js"><link rel="prefetch" href="/notebook/assets/js/5.efa9d2b4.js"><link rel="prefetch" href="/notebook/assets/js/6.dc0434a9.js"><link rel="prefetch" href="/notebook/assets/js/7.37580b01.js"><link rel="prefetch" href="/notebook/assets/js/9.848f4668.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.0536e7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://betterrong.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux学习" class="dropdown-title"><span class="title">Linux学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/Linux/vbird1/" class="nav-link router-link-active">
  鸟哥的私房菜基础学习篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="golang学习" class="dropdown-title"><span class="title">golang学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/golang/tour-of-go/" class="nav-link">
  a tour of go
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://betterrong.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux学习" class="dropdown-title"><span class="title">Linux学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/Linux/vbird1/" class="nav-link router-link-active">
  鸟哥的私房菜基础学习篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="golang学习" class="dropdown-title"><span class="title">golang学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/golang/tour-of-go/" class="nav-link">
  a tour of go
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notebook/Linux/vbird1/" aria-current="page" class="sidebar-link">导航</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>1 Linux 的规则和安装</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/01.html" class="sidebar-link">1.1 计算机概论</a></li><li><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/02.html" class="sidebar-link">1.2 Linux是什么与如何学习</a></li><li><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/03.html" class="sidebar-link">1.3 主机规划与磁盘分区</a></li><li><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html" aria-current="page" class="active sidebar-link">1.4 安装 CentOS7.x </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_0x00-练习机的规划" class="sidebar-link">0x00  练习机的规划</a></li><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_0x01-开始安装-centos-7" class="sidebar-link">0x01 开始安装 CentOS 7</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_1-0-使用vmvare-创建虚拟机" class="sidebar-link">*1. 0 使用VMvare 创建虚拟机</a></li><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_1-1-选择安装模式与开机（-inst-gpt-）" class="sidebar-link">1.1 选择安装模式与开机（ inst.gpt ）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_0x02-其他功能" class="sidebar-link">0x02 其他功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_2-1-内存压力测试" class="sidebar-link">2.1 内存压力测试</a></li><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_2-2-安装笔记本或其他类-pc-计算机的参数" class="sidebar-link">2.2 安装笔记本或其他类 PC 计算机的参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/04.html#_0x03-重点回顾" class="sidebar-link">0x03 重点回顾</a></li></ul></li><li><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/05.html" class="sidebar-link">1.5 首次登录与线上求助 </a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2 Linux 文件、目录与磁盘格式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="安装-centos7-x"><a href="#安装-centos7-x" class="header-anchor">#</a> 安装 CentOS7.x</h1> <p>作者：溶 时间：2020年07月24日</p> <h2 id="_0x00-练习机的规划"><a href="#_0x00-练习机的规划" class="header-anchor">#</a> 0x00  练习机的规划</h2> <ul><li><p>linux 主机的角色定位</p> <p>主要用于练习 linux 的相关技术，几乎所有数据都要安装进来，包括 x windows</p></li> <li><p>选择的 distribution</p> <p>定位为服务器的角色，所以使用号称完全兼容商业版 RHEL 的社群版，CentOS 7.x</p></li> <li><p>硬盘分区配置</p> <p>如果你的磁盘有超过 2 TB 的话，linux 默认是会以 MBR 模式来处理分区表。 我们只切除 40 GB 的磁盘来玩，所以预设上会以 MBR 来配置。 可以在安装的时候加上某些参数，<strong>强制使用 GPT 分区表</strong>来配置我们的磁盘。 实际的分区情况如下</p> <table><thead><tr><th>所需目录 / 装置</th> <th>磁盘容量</th> <th>文件系统</th> <th>分区格式</th></tr></thead> <tbody><tr><td>BIOS boot</td> <td>2 MB</td> <td>系统自定义</td> <td>主分区</td></tr> <tr><td>/boot</td> <td>1 GB</td> <td>xfs</td> <td>主分区</td></tr> <tr><td>/</td> <td>10 GB</td> <td>xfs</td> <td>LVM 方式</td></tr> <tr><td>/home</td> <td>5 GB</td> <td>xfs</td> <td>LVM</td></tr> <tr><td>swap</td> <td>1 GB</td> <td>swap</td> <td>LVM</td></tr></tbody></table> <p>由于使用 GPT，无需考虑主、延伸、逻辑分区的差异。不过由于 CentOS 预设会使用 LVM 的方式来管理你的文件系统， 后续会讲解 LVM，这里就使用 LVM</p></li> <li><p>开机管理程序（boot loader）</p> <p>使用 CentOS 7 默认的 grub2，并且安装到 MBR 上面，也必须安装到 MBR 上面，因为硬盘全用在 LInux 上面的。</p></li> <li><p>选择软件</p> <p>练习机是要作为服务器用的，可能会用到图形界面来管理系统，会使用包含 x window 的服务器软件的方式来安装。 要注意的是，从 7.x 开始，默认选择的软件模式是以最小安装的。</p></li></ul> <h2 id="_0x01-开始安装-centos-7"><a href="#_0x01-开始安装-centos-7" class="header-anchor">#</a> 0x01 开始安装 CentOS 7</h2> <p>安装步骤在各主要 Linux distribution 都差不多，主要内容大概是：</p> <ol><li>调整开机媒体（BIOS）：务必使用 CD 或 DVD 光盘开机，通常需要调整 BIOS</li> <li>选择安装模式与开机：包括图形接口 / 文字接口等，也可以加入特殊参数来开机进入安装画面</li> <li>选择语系数据：不同地区的键盘按键不同，此时需要调整语系、键盘、鼠标等配备</li> <li>软件选择：需要什么样的软件？全部安装还是预设安装即可？</li> <li>磁盘分区：最重要的项目之一了，记得上面的规划安装单</li> <li>开机管理程序、网络、失去设定与 root 密码：一些需要的系统基础设定</li> <li>安装后的首次设定：包括用户、SELinux 与防火墙</li></ol> <h3 id="_1-0-使用vmvare-创建虚拟机"><a href="#_1-0-使用vmvare-创建虚拟机" class="header-anchor">#</a> *1. 0 使用VMvare 创建虚拟机</h3> <ol><li><p>新建虚拟机</p></li> <li><p>选择 <code>自定义安装</code></p></li> <li><p>选择 <code>稍后安装</code></p></li> <li><p>客户机操作系统选择 <code>Linux</code> ，版本选择 <code>CentOS 7 64位</code></p></li> <li><p>虚拟机名称： <code>CentOS7</code> , 位置： <code>D:\Users\likebetter\CentOS7</code></p></li> <li><p><code>处理器数量</code> 跟物理主机的 CPU 个数一样。我只有一个CPU，物理机 CPU 为 4核8线程，所以，<code>处理器数量</code> 选择 <code>1</code> ， <code>每个处理器的内核数量</code> 就是核心数，所以， <code>每个处理器的内核数量</code>选择<code>4</code>。VMware 占用的是最终的 “超线程”。</p> <p>其他方案：</p> <p>---- 物理主机处理器资源：4 核 8 线程</p> <p>---- 配置 ： 1 * 4  1 * 8  2 * 2  2 * 4  4 * 2  8 * 1</p> <p>配置关键：“处理器内核总数” 是否超出真实物理主机的线程总数，即 “处理器内核总数” 不能超出我们真实处理器的线程总数。</p></li> <li><p>虚拟机内存配置取决于主机内存和虚拟机运行程序需要的内存。虚拟机内存肯定是要小于主机内存的，但很显然，他也不是越小越好，否则虚拟机上的程序根本运行不起来，就会出现进程被 killed 的情况。虚拟机内存可以重新分配，这里我选择 物理机内存<code>8g</code>的一半，<code>4g</code>。虚拟机内存未使用完，主机也可以使用。</p></li> <li><p>我选择 nat 模式</p> <ul><li><p>桥接模式就是将主机网卡与虚拟机虚拟的网卡利用虚拟网桥进行通信。在桥接的作用下，类似于把物理主机虚拟为一个交换机，所有桥接设置的虚拟机连接到这个交换机的一个接口上，物理主机也同样插在这个交换机当中，所以所有桥接下的网卡与网卡都是交换模式的，相互可以访问而不干扰。在桥接模式下，虚拟机 ip 地址需要与主机在同一个网段，如果需要联网，则网关与 DNS 需要与主机网卡一致。</p></li> <li><p>桥接设置</p> <p>在进入系统之前，我们先确认一下主机的 ip 地址、网关、DNS 等信息。</p> <p>然后，进入系统编辑网卡配置文件，命令为 <code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p> <p>添加如下内容：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>DEVICE=eth0
HWADDR=00:0C:29:DA:E9:99
TYPE=Etherent
UUID=0711466f-aelf-4ace-aa83-825cb3dfb5f7
ONBOOT=yes
NM_CONTROLLED=YES
BOOT_PROTO=none
IPADDR=192.168.XXX.XXX
NETMASK=255.255.255.0
GATEWAY=192.168.XXX.XXX
DNS1=XXX.XXX.XXX.XXX
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>编辑完成，保存退出，然后重启虚拟机网卡，使用 ping 命令 ping 外网 ip，测试能否联网。能 ping 通外网 ip，证明桥接模式设置成功。桥接模式配置简单，但如果你的网络环境是 ip 资源很缺少或对 ip 管理比较严格的话，那桥接模式就不太适用了。</p></li> <li><p>NAT（地址转换模式）</p> <p>NAT 模式借助虚拟 NAT 设备和虚拟 DHCP 服务器，使得虚拟机可以联网,其网络结构如下图所示：</p> <p><img src="https://s1.ax1x.com/2020/07/24/UX2v3F.jpg" alt="UX2v3F.jpg"></p> <p>在 NAT 模式中，主机网卡直接与虚拟 NAT 设备相连，然后虚拟 NAT 设备与虚拟 DHCP 服务器一起连接在虚拟交换机 VMnet8 上，这样就实现了虚拟机联网。那么我们会觉得很奇怪，为什么需要虚拟网卡<code>VMware Network Adapter VMnet8</code>呢？我们的 <code>VMware Network Adapter VMnet8</code> 虚拟网卡主要是为了实现主机与虚拟机之间的通信。</p> <p>设置虚拟机中 NAT 模式的选项，打开 vmware，点击 “编辑” 下的 “虚拟网络编辑器”，设置 NAT 参数及 DHCP 参数。</p> <p>然后开机启动系统，编辑网卡配置文件，命令为 <code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>DEVICE=eth0
##HWADDR=00:0C:29:DA:E9:99
TYPE=Etherent
##UUID=0711466f-aelf-4ace-aa83-825cb3dfb5f7
ONBOOT=yes
NM_CONTROLLED=YES
BOOT_PROTO=dhcp//动态获取ip
##IPADDR=192.168.XXX.XXX
##NETMASK=255.255.255.0
##GATEWAY=192.168.XXX.XXX
##DNS1=XXX.XXX.XXX.XXX
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>然后重启虚拟机网卡，动态获取 ip 地址，使用 ping 命令 ping 外网 ip，测试能否联网。</p></li> <li><p>Host-Only（仅主机模式）Host-Only 模式其实就是 NAT 模式去除了虚拟 NAT 设备，然后使用 VMware Network Adapter VMnet1 虚拟网卡连接 VMnet1 虚拟交换机来与虚拟机通信的，Host-Only 模式将虚拟机与外网隔开，使得虚拟机成为一个独立的系统，只与主机相互通讯。</p></li></ul></li> <li><p>磁盘容量选择40G</p></li> <li><p>移除 <code>打印机</code>，<code>声卡</code></p></li> <li><p>选择镜像位置，开启虚拟机。</p></li></ol> <h3 id="_1-1-选择安装模式与开机（-inst-gpt-）"><a href="#_1-1-选择安装模式与开机（-inst-gpt-）" class="header-anchor">#</a> 1.1 选择安装模式与开机（ inst.gpt ）</h3> <h4 id="_1-1-1-加入强制使用-gpt-分区表的安装参数"><a href="#_1-1-1-加入强制使用-gpt-分区表的安装参数" class="header-anchor">#</a> 1.1.1 加入强制使用 GPT 分区表的安装参数</h4> <p>磁盘小于 2 TB，系统默认会使用 MBR 模式来安装，这里修改配置参数增加 <code>inst.gpt</code> 来使用 GPT 分区表， 注意每个参数需要有空格。</p> <p>方向键选中 <code>install Ceentos 7</code> 然后按Tab键，就会出现配置参数。</p> <p>然后输入 <code>inst.gpt</code>。</p> <p>安装 模式是 <code>带GUI的服务器</code> ，选择 <code>兼容性程序库</code> 和 <code>开发工具</code></p> <h4 id="_1-１-2-分区方案"><a href="#_1-１-2-分区方案" class="header-anchor">#</a> 1.１.2 分区方案</h4> <p>总共分配 50GB 空间</p> <table><thead><tr><th>挂载点</th> <th>磁盘容量</th> <th>文件系统</th> <th>分区格式</th></tr></thead> <tbody><tr><td><code>BIOS boot</code></td> <td>2MB</td> <td>系统自定义</td> <td>主分区</td></tr> <tr><td><code>boot</code></td> <td>1GB</td> <td>xfs</td> <td>主分区</td></tr> <tr><td><code>/</code></td> <td>15GB</td> <td>xfs</td> <td>LVM 方式</td></tr> <tr><td><code>/home</code></td> <td>5GB</td> <td>xfs</td> <td>lVM 方式</td></tr> <tr><td>交换分区</td> <td>1GB</td> <td>swap</td> <td>LVM 方式</td></tr></tbody></table> <p>练习机使用标准分区和 LVM，三种装置类型的意义分别如下</p> <ul><li><p>标准分区：前面一直在说的分区槽，类似 /dev/vda1 之类的分区</p></li> <li><p>LVM：可以弹性增加 / 消减文件系统容量的装置设定，会在后面章节持续介绍 LVM</p></li> <li><p>LVM 简单配置</p> <p>与传统 LVM 固定分配内容不同，使用多少容量才分配磁盘多少容量给你，比如你实际数据只占用了 10G, 并不会平白无故的占用 40 G 的大小，后续也会讲解</p></li> <li><p>ext2/ext3/ext4</p> <p>Linux 早期适用的文件系统类型。由于 ext3/4 文件系统多了日志的记录， 对于系统的复原比较快速。由于磁盘容量越来越大，ext 就有点不行了，除非你有特殊的需求，基本上不用这种方式了</p></li> <li><p>swap</p> <p>磁盘仿真成为内存，由于 swap 不会使用到目录树的挂载，所以不用指定挂载点</p></li> <li><p>BIOS Boot</p> <p>GPT 分区表可能会使用到的项目，若是使用 MBR 分区，则不需要这个</p></li> <li><p>xfs</p> <p>是目前 CentOS 预设的文件系统，最早是由大型服务器所开发出来的， 优点就是对大容量磁盘管理好，格式化速度相当快，很适合 TB 级别的磁盘环境</p></li> <li><p>vfat</p> <p>同时被 Linux 与 Windos 所支持的文件系统类型。 如果你的主机硬盘内同时存在 windows 与 linux 系统，为了数据交换， 就可以建立一个 vfat 的文件系统</p></li></ul> <p>由于 /、/home、swap 都希望使用 CentOS 提供的 LVM 管理，因此需要做一下容量固定配置的修改。</p> <p>固定 Volume group（VG）的容量的含义：固定大小是为了留下 10 G 空间给练习的使用，否则就会占用完。，最终将这里 VG 剩余的容量分配给了 / 根目录这个 LV。实现了动态扩容</p> <h4 id="_1-1-3-设置root密码和创建用户"><a href="#_1-1-3-设置root密码和创建用户" class="header-anchor">#</a> 1.1.3 设置root密码和创建用户</h4> <ul><li>将用户设为管理员。</li> <li>本次设置，root 密码是 <code>2020</code> ，用户 <code>rong</code> 密码是 <code>07</code>。</li></ul> <h4 id="_1-1-4-关于-kickstar"><a href="#_1-1-4-关于-kickstar" class="header-anchor">#</a> 1.1.4 关于 kickstar</h4> <p>之前的安装步骤，通通都会记录到 <code>/root/anaconda-ks.cfg</code> 文件中， 这个文件可以提醒与协助未来想要重建一个一模一样的系统。</p> <h2 id="_0x02-其他功能"><a href="#_0x02-其他功能" class="header-anchor">#</a> 0x02 其他功能</h2> <h3 id="_2-1-内存压力测试"><a href="#_2-1-内存压力测试" class="header-anchor">#</a> 2.1 内存压力测试</h3> <p>就是测试这部主机是否稳定时，在主机上运行一些比较耗系统资源的程序，让系统在高负载的情况下去运作一阵子（可能是一天），测试稳定度的一种情况，就称为「烧机」</p> <p>该功能在安装光盘内，还记得启动时选择的菜单吗？依次选择 troubleshooting -&gt; Run a memory test</p> <p>就会开始跑了，直到你按下 esc 按钮为止。只要这里不出事情，系统就比较稳定</p> <h3 id="_2-2-安装笔记本或其他类-pc-计算机的参数"><a href="#_2-2-安装笔记本或其他类-pc-计算机的参数" class="header-anchor">#</a> 2.2 安装笔记本或其他类 PC 计算机的参数</h3> <p>由于笔记本电脑加入了非常多的省电机制或则是其他的硬件管理机制，包括显示适配器常常是整合型的， 使用适合一般桌面计算机的 DVD 来安装 linux 时，可能导致出现问题，无法安装到 linux 到你的笔记本电脑中。</p> <p>这个时候应该配置 linux 核心不要加载一些特殊功能即可。 最常用的方法就是，在使用 dvd 开机时，选择？？？什么，按 tab 键，加入以下的配置项</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>nofb apm=off acpi=off pci=noacpi
 
        Copied!
    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>apm（Advanced Power Management）：早期电源管理模块</li> <li>acpi（Advanced Configuration and Power Interface）：近期的电源管理模块</li> <li>nofb ：取消显示适配器上面的缓冲存储器的侦测</li></ul> <h2 id="_0x03-重点回顾"><a href="#_0x03-重点回顾" class="header-anchor">#</a> 0x03 重点回顾</h2> <ul><li>不论你要安装什么样的 Linux 操作系统角色，都应该要事先规划，例如分区、开机管理程序等</li> <li>建议练习机安装时的磁盘分区能有 /、/boot、/home、/swap 四个分区槽</li> <li>安装 CentOS 7.x 的模式至少有两种，分别是图形界面与文字界面</li> <li>CentOS 7 会主动依据你的磁盘容量判断要用 MBR 或 GPT 分区方式，也可以通过配置强制使用 GPT</li> <li>若安装笔记本电脑时失败，可以尝试在开机时加入「linux nofb apm=off acpi=off」来关闭省电功能</li> <li>安装过程进入分区后，请以自定义分区模式来处理自己规划的分区方式</li> <li>在安装过程中，可以建立逻辑卷管理器（LVM）</li> <li>一般要求 swap 是 1.5 ~ 2 倍的物理内存量，但是没有 swap 也可以安装运行 linux 系统</li> <li>CentOS 7 预设使用 xfs 作为文件系统</li> <li>没有连上 Internet 时，可尝试关闭防火墙，但 SElinux 最好选择强制状态</li> <li>设置不要选择启动 kdump，因为那是给核心开发者查询宕机数据的</li> <li>可加入世界服务器来同步化时间，台湾可选择 tock.stdtime.gov.tw 这一部</li> <li>尽量使用一般用户来操作 Linux，有必要再转身份成为 root 即可</li> <li>即使是练习机，在设置 root 密码时，不要设置的太简单</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/03.html" class="prev">
        1.3 主机规划与磁盘分区
      </a></span> <span class="next"><a href="/notebook/Linux/vbird1/1-gvze-yu-anvl/05.html">
        1.5 首次登录与线上求助 
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notebook/assets/js/app.59682d67.js" defer></script><script src="/notebook/assets/js/2.f2581a98.js" defer></script><script src="/notebook/assets/js/8.29331283.js" defer></script>
  </body>
</html>
